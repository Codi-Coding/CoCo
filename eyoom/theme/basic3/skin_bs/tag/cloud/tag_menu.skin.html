<?php if (!defined('_GNUBOARD_')) exit; ?>

<style>
.tag-menu {position:relative;border:1px solid #e5e5e5;padding:10px;margin:0px 20px 30px;background:#fff;-webkit-border-radius:3px !important;-moz-border-radius:3px !important;border-radius:3px !important}
.tag-menu .tag-list-wrap {position:relative;width:260px;height:260px;margin:0 auto}
.tag-menu .tag-list {display:none}
.tag-menu .tag-list #myCanvas {width:260px;height:260px}
@media (min-width:992px) and (max-width:1199px) {
	.tag-menu .tag-list-wrap {width:220px;height:220px}
	.tag-menu .tag-list #myCanvas {width:220px;height:220px}
}
</style>

<div class="tag-menu">
	<div class="headline">
		<h5><strong>태그</strong></h5>
		<span class="pull-right tag-btn">
			<!--{? _is_admin}--><a href="{C.G5_ADMIN_URL}/eyoom_admin/tag_list.php" target="_blank" class="btn-e btn-e-xs btn-e-red">관리</a><!--{/}-->
			<a href="{C.G5_URL}/tag/list.php" class="btn-e btn-e-xs btn-e-dark">태그 더보기</a>
		</span>
	</div>
	<div class="tag-list-wrap">
		<div class="tag-list">
			<div id="myCanvasContainer">
				<canvas width="260" height="260" id="myCanvas"></canvas>
			</div>
			<div id="tags">
				<ul>
					<!--{@ list}-->
					<li id="dpmenu-{.tg_id}">
						<a href="{.href}" class="tag-word" onclick="return dpmenu_out(this.href);">
							<span>{.tag}</span>
						</a>
					</li>
					<!--{/}-->
				</ul>
			</div>
		</div>
	</div>
</div>

<script type="text/javascript" src="./js/tagcanvas.min.js"></script>
<script>
window.onload = function() {
	try {
		TagCanvas.Start('myCanvas','tags',{
			textColour: '#000',
			outlineColour: '#FF2900',
			reverse: true,
			depth: 0.8,
			maxSpeed: 0.05,
			zoomMax: 1.3,
			zoomMin: 0.8,
			zoom: 0.9
		});
	} catch(e) {
		document.getElementById('myCanvasContainer').style.display = 'none';
	}
};

$(window).load(function(){
	$('.tag-list').show();
});
</script>